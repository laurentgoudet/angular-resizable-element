{"version":3,"file":"angular-resizable-element.js","sources":["src/resizeHandle.directive.js","src/resizable.directive.js","src/resizable.module.js","src/index.js","src/angular-resizable-element.js"],"sourcesContent":["import { Directive, Input, HostListener, Renderer2, ElementRef, NgZone } from '@angular/core';\n/**\n * An element placed inside a `mwlResizable` directive to be used as a drag and resize handle\n *\n * For example\n *\n * ```\n * &lt;div mwlResizable&gt;\n *   &lt;div mwlResizeHandle [resizeEdges]=\"{bottom: true, right: true}\"&gt;&lt;/div&gt;\n * &lt;/div&gt;\n * ```\n */\nvar ResizeHandle = (function () {\n    /**\n     * @param {?} renderer\n     * @param {?} element\n     * @param {?} zone\n     */\n    function ResizeHandle(renderer, element, zone) {\n        this.renderer = renderer;\n        this.element = element;\n        this.zone = zone;\n        /**\n         * The `Edges` object that contains the edges of the parent element that dragging the handle will trigger a resize on\n         */\n        this.resizeEdges = {};\n        this.eventListeners = {};\n    }\n    /**\n     * @return {?}\n     */\n    ResizeHandle.prototype.ngOnDestroy = function () {\n        this.unsubscribeEventListeners();\n    };\n    /**\n     * @param {?} event\n     * @param {?} mouseX\n     * @param {?} mouseY\n     * @return {?}\n     */\n    ResizeHandle.prototype.onMousedown = function (event, mouseX, mouseY) {\n        var _this = this;\n        event.preventDefault();\n        this.zone.runOutsideAngular(function () {\n            if (!_this.eventListeners.touchmove) {\n                _this.eventListeners.touchmove = _this.renderer.listen(_this.element.nativeElement, 'touchmove', function (event) {\n                    _this.onMousemove(event, event.targetTouches[0].clientX, event.targetTouches[0].clientY);\n                });\n            }\n            if (!_this.eventListeners.mousemove) {\n                _this.eventListeners.mousemove = _this.renderer.listen(_this.element.nativeElement, 'mousemove', function (event) {\n                    _this.onMousemove(event, event.clientX, event.clientY);\n                });\n            }\n            _this.resizable.mousedown.next({ mouseX: mouseX, mouseY: mouseY, edges: _this.resizeEdges });\n        });\n    };\n    /**\n     * @param {?} mouseX\n     * @param {?} mouseY\n     * @return {?}\n     */\n    ResizeHandle.prototype.onMouseup = function (mouseX, mouseY) {\n        var _this = this;\n        this.zone.runOutsideAngular(function () {\n            _this.unsubscribeEventListeners();\n            _this.resizable.mouseup.next({ mouseX: mouseX, mouseY: mouseY, edges: _this.resizeEdges });\n        });\n    };\n    /**\n     * @param {?} event\n     * @param {?} mouseX\n     * @param {?} mouseY\n     * @return {?}\n     */\n    ResizeHandle.prototype.onMousemove = function (event, mouseX, mouseY) {\n        this.resizable.mousemove.next({ mouseX: mouseX, mouseY: mouseY, edges: this.resizeEdges, event: event });\n    };\n    /**\n     * @return {?}\n     */\n    ResizeHandle.prototype.unsubscribeEventListeners = function () {\n        var _this = this;\n        Object.keys(this.eventListeners).forEach(function (type) {\n            _this.eventListeners[type]();\n            delete _this.eventListeners[type];\n        });\n    };\n    return ResizeHandle;\n}());\nexport { ResizeHandle };\nResizeHandle.decorators = [\n    { type: Directive, args: [{\n                selector: '[mwlResizeHandle]'\n            },] },\n];\n/**\n * @nocollapse\n */\nResizeHandle.ctorParameters = function () { return [\n    { type: Renderer2, },\n    { type: ElementRef, },\n    { type: NgZone, },\n]; };\nResizeHandle.propDecorators = {\n    'resizeEdges': [{ type: Input },],\n    'onMousedown': [{ type: HostListener, args: ['touchstart', ['$event', '$event.touches[0].clientX', '$event.touches[0].clientY'],] }, { type: HostListener, args: ['mousedown', ['$event', '$event.clientX', '$event.clientY'],] },],\n    'onMouseup': [{ type: HostListener, args: ['touchend', ['$event.changedTouches[0].clientX', '$event.changedTouches[0].clientY'],] }, { type: HostListener, args: ['touchcancel', ['$event.changedTouches[0].clientX', '$event.changedTouches[0].clientY'],] }, { type: HostListener, args: ['mouseup', ['$event.clientX', '$event.clientY'],] },],\n};\nfunction ResizeHandle_tsickle_Closure_declarations() {\n    /** @type {?} */\n    ResizeHandle.decorators;\n    /**\n     * @nocollapse\n     * @type {?}\n     */\n    ResizeHandle.ctorParameters;\n    /** @type {?} */\n    ResizeHandle.propDecorators;\n    /**\n     * The `Edges` object that contains the edges of the parent element that dragging the handle will trigger a resize on\n     * @type {?}\n     */\n    ResizeHandle.prototype.resizeEdges;\n    /** @type {?} */\n    ResizeHandle.prototype.resizable;\n    /** @type {?} */\n    ResizeHandle.prototype.eventListeners;\n    /** @type {?} */\n    ResizeHandle.prototype.renderer;\n    /** @type {?} */\n    ResizeHandle.prototype.element;\n    /** @type {?} */\n    ResizeHandle.prototype.zone;\n}\n//# sourceMappingURL=resizeHandle.directive.js.map","import { Directive, Renderer2, ElementRef, Output, Input, EventEmitter, ContentChildren, NgZone } from '@angular/core';\nimport { Subject } from 'rxjs/Subject';\nimport { Observable } from 'rxjs/Observable';\nimport { merge } from 'rxjs/observable/merge';\nimport { interval } from 'rxjs/observable/interval';\nimport 'rxjs/add/operator/map';\nimport 'rxjs/add/operator/mergeMap';\nimport 'rxjs/add/operator/takeUntil';\nimport 'rxjs/add/operator/filter';\nimport 'rxjs/add/operator/pairwise';\nimport 'rxjs/add/operator/take';\nimport 'rxjs/add/operator/throttle';\nimport 'rxjs/add/operator/share';\nimport { ResizeHandle } from './resizeHandle.directive';\n/**\n * @param {?} value1\n * @param {?} value2\n * @param {?=} precision\n * @return {?}\n */\nfunction isNumberCloseTo(value1, value2, precision) {\n    if (precision === void 0) { precision = 3; }\n    var /** @type {?} */ diff = Math.abs(value1 - value2);\n    return diff < precision;\n}\n/**\n * @param {?} startingRect\n * @param {?} edges\n * @param {?} clientX\n * @param {?} clientY\n * @return {?}\n */\nfunction getNewBoundingRectangle(startingRect, edges, clientX, clientY) {\n    var /** @type {?} */ newBoundingRect = {\n        top: startingRect.top,\n        bottom: startingRect.bottom,\n        left: startingRect.left,\n        right: startingRect.right\n    };\n    if (edges.top) {\n        newBoundingRect.top += clientY;\n    }\n    if (edges.bottom) {\n        newBoundingRect.bottom += clientY;\n    }\n    if (edges.left) {\n        newBoundingRect.left += clientX;\n    }\n    if (edges.right) {\n        newBoundingRect.right += clientX;\n    }\n    newBoundingRect.height = newBoundingRect.bottom - newBoundingRect.top;\n    newBoundingRect.width = newBoundingRect.right - newBoundingRect.left;\n    return newBoundingRect;\n}\n/**\n * @param {?} element\n * @param {?} ghostElementPositioning\n * @return {?}\n */\nfunction getElementRect(element, ghostElementPositioning) {\n    if (ghostElementPositioning === 'absolute') {\n        return {\n            height: element.nativeElement.offsetHeight,\n            width: element.nativeElement.offsetWidth,\n            top: element.nativeElement.offsetTop,\n            bottom: element.nativeElement.offsetHeight + element.nativeElement.offsetTop,\n            left: element.nativeElement.offsetLeft,\n            right: element.nativeElement.offsetWidth + element.nativeElement.offsetLeft\n        };\n    }\n    else {\n        var /** @type {?} */ boundingRect = element.nativeElement.getBoundingClientRect();\n        return {\n            height: boundingRect.height,\n            width: boundingRect.width,\n            top: boundingRect.top,\n            bottom: boundingRect.bottom,\n            left: boundingRect.left,\n            right: boundingRect.right,\n            scrollTop: element.nativeElement.scrollTop,\n            scrollLeft: element.nativeElement.scrollLeft\n        };\n    }\n}\n/**\n * @param {?} __0\n * @return {?}\n */\nfunction isWithinBoundingY(_a) {\n    var clientY = _a.clientY, rect = _a.rect;\n    return clientY >= rect.top && clientY <= rect.bottom;\n}\n/**\n * @param {?} __0\n * @return {?}\n */\nfunction isWithinBoundingX(_a) {\n    var clientX = _a.clientX, rect = _a.rect;\n    return clientX >= rect.left && clientX <= rect.right;\n}\n/**\n * @param {?} __0\n * @return {?}\n */\nfunction getResizeEdges(_a) {\n    var clientX = _a.clientX, clientY = _a.clientY, elm = _a.elm, allowedEdges = _a.allowedEdges, cursorPrecision = _a.cursorPrecision;\n    var /** @type {?} */ elmPosition = elm.nativeElement.getBoundingClientRect();\n    var /** @type {?} */ edges = {};\n    if (allowedEdges.left &&\n        isNumberCloseTo(clientX, elmPosition.left, cursorPrecision) &&\n        isWithinBoundingY({ clientY: clientY, rect: elmPosition })) {\n        edges.left = true;\n    }\n    if (allowedEdges.right &&\n        isNumberCloseTo(clientX, elmPosition.right, cursorPrecision) &&\n        isWithinBoundingY({ clientY: clientY, rect: elmPosition })) {\n        edges.right = true;\n    }\n    if (allowedEdges.top &&\n        isNumberCloseTo(clientY, elmPosition.top, cursorPrecision) &&\n        isWithinBoundingX({ clientX: clientX, rect: elmPosition })) {\n        edges.top = true;\n    }\n    if (allowedEdges.bottom &&\n        isNumberCloseTo(clientY, elmPosition.bottom, cursorPrecision) &&\n        isWithinBoundingX({ clientX: clientX, rect: elmPosition })) {\n        edges.bottom = true;\n    }\n    return edges;\n}\nvar /** @type {?} */ DEFAULT_RESIZE_CURSORS = Object.freeze({\n    topLeft: 'nw-resize',\n    topRight: 'ne-resize',\n    bottomLeft: 'sw-resize',\n    bottomRight: 'se-resize',\n    leftOrRight: 'ew-resize',\n    topOrBottom: 'ns-resize'\n});\n/**\n * @param {?} edges\n * @param {?} cursors\n * @return {?}\n */\nfunction getResizeCursor(edges, cursors) {\n    if (edges.left && edges.top) {\n        return cursors.topLeft;\n    }\n    else if (edges.right && edges.top) {\n        return cursors.topRight;\n    }\n    else if (edges.left && edges.bottom) {\n        return cursors.bottomLeft;\n    }\n    else if (edges.right && edges.bottom) {\n        return cursors.bottomRight;\n    }\n    else if (edges.left || edges.right) {\n        return cursors.leftOrRight;\n    }\n    else if (edges.top || edges.bottom) {\n        return cursors.topOrBottom;\n    }\n    else {\n        return '';\n    }\n}\n/**\n * @param {?} __0\n * @return {?}\n */\nfunction getEdgesDiff(_a) {\n    var edges = _a.edges, initialRectangle = _a.initialRectangle, newRectangle = _a.newRectangle;\n    var /** @type {?} */ edgesDiff = {};\n    Object.keys(edges).forEach(function (edge) {\n        edgesDiff[edge] = newRectangle[edge] - initialRectangle[edge];\n    });\n    return edgesDiff;\n}\nvar /** @type {?} */ RESIZE_ACTIVE_CLASS = 'resize-active';\nvar /** @type {?} */ RESIZE_LEFT_HOVER_CLASS = 'resize-left-hover';\nvar /** @type {?} */ RESIZE_RIGHT_HOVER_CLASS = 'resize-right-hover';\nvar /** @type {?} */ RESIZE_TOP_HOVER_CLASS = 'resize-top-hover';\nvar /** @type {?} */ RESIZE_BOTTOM_HOVER_CLASS = 'resize-bottom-hover';\nvar /** @type {?} */ RESIZE_GHOST_ELEMENT_CLASS = 'resize-ghost-element';\nexport var /** @type {?} */ MOUSE_MOVE_THROTTLE_MS = 50;\n/**\n * Place this on an element to make it resizable\n *\n * For example\n *\n * ```\n * &lt;div mwlResizable [resizeEdges]=\"{bottom: true, right: true, top: true, left: true}\" [enableGhostResize]=\"true\"&gt;&lt;/div&gt;\n * ```\n */\nvar Resizable = (function () {\n    /**\n     * @hidden\n     * @param {?} renderer\n     * @param {?} elm\n     * @param {?} zone\n     */\n    function Resizable(renderer, elm, zone) {\n        this.renderer = renderer;\n        this.elm = elm;\n        this.zone = zone;\n        /**\n         * The edges that an element can be resized from. Pass an object like `{top: true, bottom: false}`. By default no edges can be resized.\n         */\n        this.resizeEdges = {};\n        /**\n         * Set to `true` to enable a temporary resizing effect of the element in between the `resizeStart` and `resizeEnd` events.\n         */\n        this.enableGhostResize = false;\n        /**\n         * A snap grid that resize events will be locked to.\n         *\n         * e.g. to only allow the element to be resized every 10px set it to `{left: 10, right: 10}`\n         */\n        this.resizeSnapGrid = {};\n        /**\n         * The mouse cursors that will be set on the resize edges\n         */\n        this.resizeCursors = DEFAULT_RESIZE_CURSORS;\n        /**\n         * Mouse over thickness to active cursor.\n         */\n        this.resizeCursorPrecision = 3;\n        /**\n         * Define the positioning of the ghost element (can be fixed or absolute)\n         */\n        this.ghostElementPositioning = 'fixed';\n        /**\n         * Called when the mouse is pressed and a resize event is about to begin. `$event` is a `ResizeEvent` object.\n         */\n        this.resizeStart = new EventEmitter();\n        /**\n         * Called as the mouse is dragged after a resize event has begun. `$event` is a `ResizeEvent` object.\n         */\n        this.resizing = new EventEmitter();\n        /**\n         * Called after the mouse is released after a resize event. `$event` is a `ResizeEvent` object.\n         */\n        this.resizeEnd = new EventEmitter();\n        /**\n         * @hidden\n         */\n        this.mouseup = new Subject();\n        /**\n         * @hidden\n         */\n        this.mousedown = new Subject();\n        /**\n         * @hidden\n         */\n        this.mousemove = new Subject();\n        this.pointerEventListenerSubscriptions = {};\n        this.pointerEventListeners = PointerEventListeners.getInstance(renderer, zone);\n    }\n    /**\n     * @hidden\n     * @return {?}\n     */\n    Resizable.prototype.ngOnInit = function () {\n        var _this = this;\n        // TODO - use some fancy Observable.merge's for this\n        this.pointerEventListenerSubscriptions.pointerDown = this.pointerEventListeners.pointerDown.subscribe(function (_a) {\n            var clientX = _a.clientX, clientY = _a.clientY;\n            _this.mousedown.next({ clientX: clientX, clientY: clientY });\n        });\n        this.pointerEventListenerSubscriptions.pointerMove = this.pointerEventListeners.pointerMove.subscribe(function (_a) {\n            var clientX = _a.clientX, clientY = _a.clientY, event = _a.event;\n            _this.mousemove.next({ clientX: clientX, clientY: clientY, event: event });\n        });\n        this.pointerEventListenerSubscriptions.pointerUp = this.pointerEventListeners.pointerUp.subscribe(function (_a) {\n            var clientX = _a.clientX, clientY = _a.clientY;\n            _this.mouseup.next({ clientX: clientX, clientY: clientY });\n        });\n        var /** @type {?} */ currentResize;\n        var /** @type {?} */ removeGhostElement = function () {\n            if (currentResize.clonedNode) {\n                _this.elm.nativeElement.parentElement.removeChild(currentResize.clonedNode);\n                _this.renderer.setStyle(_this.elm.nativeElement, 'visibility', 'inherit');\n            }\n        };\n        var /** @type {?} */ mouseMove = this.mousemove.share();\n        mouseMove\n            .filter(function () { return !!currentResize; })\n            .subscribe(function (_a) {\n            var event = _a.event;\n            event.preventDefault();\n        });\n        mouseMove.throttle(function (val) { return interval(MOUSE_MOVE_THROTTLE_MS); }).subscribe(function (_a) {\n            var clientX = _a.clientX, clientY = _a.clientY;\n            var /** @type {?} */ resizeEdges = getResizeEdges({\n                clientX: clientX, clientY: clientY,\n                elm: _this.elm,\n                allowedEdges: _this.resizeEdges,\n                cursorPrecision: _this.resizeCursorPrecision\n            });\n            var /** @type {?} */ resizeCursors = Object.assign({}, DEFAULT_RESIZE_CURSORS, _this.resizeCursors);\n            var /** @type {?} */ cursor = currentResize ? '' : getResizeCursor(resizeEdges, resizeCursors);\n            _this.renderer.setStyle(_this.elm.nativeElement, 'cursor', cursor);\n            _this.setElementClass(_this.elm, RESIZE_ACTIVE_CLASS, !!currentResize);\n            _this.setElementClass(_this.elm, RESIZE_LEFT_HOVER_CLASS, resizeEdges.left === true);\n            _this.setElementClass(_this.elm, RESIZE_RIGHT_HOVER_CLASS, resizeEdges.right === true);\n            _this.setElementClass(_this.elm, RESIZE_TOP_HOVER_CLASS, resizeEdges.top === true);\n            _this.setElementClass(_this.elm, RESIZE_BOTTOM_HOVER_CLASS, resizeEdges.bottom === true);\n        });\n        var /** @type {?} */ mousedrag = this.mousedown.flatMap(function (startCoords) {\n            var /** @type {?} */ getDiff = function (moveCoords) {\n                return {\n                    clientX: moveCoords.clientX - startCoords.clientX,\n                    clientY: moveCoords.clientY - startCoords.clientY\n                };\n            };\n            var /** @type {?} */ getSnapGrid = function () {\n                var /** @type {?} */ snapGrid = { x: 1, y: 1 };\n                if (currentResize) {\n                    if (_this.resizeSnapGrid.left && currentResize.edges.left) {\n                        snapGrid.x = +_this.resizeSnapGrid.left;\n                    }\n                    else if (_this.resizeSnapGrid.right && currentResize.edges.right) {\n                        snapGrid.x = +_this.resizeSnapGrid.right;\n                    }\n                    if (_this.resizeSnapGrid.top && currentResize.edges.top) {\n                        snapGrid.y = +_this.resizeSnapGrid.top;\n                    }\n                    else if (_this.resizeSnapGrid.bottom && currentResize.edges.bottom) {\n                        snapGrid.y = +_this.resizeSnapGrid.bottom;\n                    }\n                }\n                return snapGrid;\n            };\n            var /** @type {?} */ getGrid = function (coords, snapGrid) {\n                return {\n                    x: Math.ceil(coords.clientX / snapGrid.x),\n                    y: Math.ceil(coords.clientY / snapGrid.y)\n                };\n            };\n            return merge(mouseMove.take(1).map(function (coords) { return [, coords]; }), mouseMove.pairwise()).map(function (_a) {\n                var previousCoords = _a[0], newCoords = _a[1];\n                return [previousCoords ? getDiff(previousCoords) : previousCoords, getDiff(newCoords)];\n            }).filter(function (_a) {\n                var previousCoords = _a[0], newCoords = _a[1];\n                if (!previousCoords) {\n                    return true;\n                }\n                var /** @type {?} */ snapGrid = getSnapGrid();\n                var /** @type {?} */ previousGrid = getGrid(previousCoords, snapGrid);\n                var /** @type {?} */ newGrid = getGrid(newCoords, snapGrid);\n                return (previousGrid.x !== newGrid.x || previousGrid.y !== newGrid.y);\n            }).map(function (_a) {\n                var newCoords = _a[1];\n                var /** @type {?} */ snapGrid = getSnapGrid();\n                return {\n                    clientX: Math.round(newCoords.clientX / snapGrid.x) * snapGrid.x,\n                    clientY: Math.round(newCoords.clientY / snapGrid.y) * snapGrid.y\n                };\n            }).takeUntil(merge(_this.mouseup, _this.mousedown));\n        }).filter(function () { return !!currentResize; });\n        mousedrag.map(function (_a) {\n            var clientX = _a.clientX, clientY = _a.clientY;\n            return getNewBoundingRectangle(currentResize.startingRect, currentResize.edges, clientX, clientY);\n        }).filter(function (newBoundingRect) {\n            return newBoundingRect.height > 0 && newBoundingRect.width > 0;\n        }).filter(function (newBoundingRect) {\n            return _this.validateResize ? _this.validateResize({\n                rectangle: newBoundingRect,\n                edges: getEdgesDiff({\n                    edges: currentResize.edges,\n                    initialRectangle: currentResize.startingRect,\n                    newRectangle: newBoundingRect\n                })\n            }) : true;\n        }).subscribe(function (newBoundingRect) {\n            if (currentResize.clonedNode) {\n                _this.renderer.setStyle(currentResize.clonedNode, 'height', newBoundingRect.height + \"px\");\n                _this.renderer.setStyle(currentResize.clonedNode, 'width', newBoundingRect.width + \"px\");\n                _this.renderer.setStyle(currentResize.clonedNode, 'top', newBoundingRect.top + \"px\");\n                _this.renderer.setStyle(currentResize.clonedNode, 'left', newBoundingRect.left + \"px\");\n            }\n            _this.zone.run(function () {\n                _this.resizing.emit({\n                    edges: getEdgesDiff({\n                        edges: currentResize.edges,\n                        initialRectangle: currentResize.startingRect,\n                        newRectangle: newBoundingRect\n                    }),\n                    rectangle: newBoundingRect\n                });\n            });\n            currentResize.currentRect = newBoundingRect;\n        });\n        this.mousedown.map(function (_a) {\n            var clientX = _a.clientX, clientY = _a.clientY, edges = _a.edges;\n            return edges || getResizeEdges({\n                clientX: clientX, clientY: clientY,\n                elm: _this.elm,\n                allowedEdges: _this.resizeEdges,\n                cursorPrecision: _this.resizeCursorPrecision\n            });\n        }).filter(function (edges) {\n            return Object.keys(edges).length > 0;\n        }).subscribe(function (edges) {\n            if (currentResize) {\n                removeGhostElement();\n            }\n            var /** @type {?} */ startingRect = getElementRect(_this.elm, _this.ghostElementPositioning);\n            currentResize = {\n                edges: edges,\n                startingRect: startingRect,\n                currentRect: startingRect\n            };\n            if (_this.enableGhostResize) {\n                currentResize.clonedNode = _this.elm.nativeElement.cloneNode(true);\n                var /** @type {?} */ resizeCursors = Object.assign({}, DEFAULT_RESIZE_CURSORS, _this.resizeCursors);\n                _this.elm.nativeElement.parentElement.appendChild(currentResize.clonedNode);\n                _this.renderer.setStyle(_this.elm.nativeElement, 'visibility', 'hidden');\n                _this.renderer.setStyle(currentResize.clonedNode, 'position', _this.ghostElementPositioning);\n                _this.renderer.setStyle(currentResize.clonedNode, 'left', currentResize.startingRect.left + \"px\");\n                _this.renderer.setStyle(currentResize.clonedNode, 'top', currentResize.startingRect.top + \"px\");\n                _this.renderer.setStyle(currentResize.clonedNode, 'height', currentResize.startingRect.height + \"px\");\n                _this.renderer.setStyle(currentResize.clonedNode, 'width', currentResize.startingRect.width + \"px\");\n                _this.renderer.setStyle(currentResize.clonedNode, 'cursor', getResizeCursor(currentResize.edges, resizeCursors));\n                _this.renderer.addClass(currentResize.clonedNode, RESIZE_GHOST_ELEMENT_CLASS);\n                currentResize.clonedNode.scrollTop = currentResize.startingRect.scrollTop;\n                currentResize.clonedNode.scrollLeft = currentResize.startingRect.scrollLeft;\n            }\n            _this.zone.run(function () {\n                _this.resizeStart.emit({\n                    edges: getEdgesDiff({ edges: edges, initialRectangle: startingRect, newRectangle: startingRect }),\n                    rectangle: getNewBoundingRectangle(startingRect, {}, 0, 0)\n                });\n            });\n        });\n        this.mouseup.subscribe(function () {\n            if (currentResize) {\n                _this.renderer.removeClass(_this.elm.nativeElement, RESIZE_ACTIVE_CLASS);\n                _this.zone.run(function () {\n                    _this.resizeEnd.emit({\n                        edges: getEdgesDiff({\n                            edges: currentResize.edges,\n                            initialRectangle: currentResize.startingRect,\n                            newRectangle: currentResize.currentRect\n                        }),\n                        rectangle: currentResize.currentRect\n                    });\n                });\n                removeGhostElement();\n                currentResize = null;\n            }\n        });\n    };\n    /**\n     * @hidden\n     * @return {?}\n     */\n    Resizable.prototype.ngAfterViewInit = function () {\n        var _this = this;\n        this.resizeHandles.forEach(function (handle) {\n            handle.resizable = _this;\n        });\n    };\n    /**\n     * @hidden\n     * @return {?}\n     */\n    Resizable.prototype.ngOnDestroy = function () {\n        this.mousedown.complete();\n        this.mouseup.complete();\n        this.mousemove.complete();\n        this.pointerEventListenerSubscriptions.pointerDown.unsubscribe();\n        this.pointerEventListenerSubscriptions.pointerMove.unsubscribe();\n        this.pointerEventListenerSubscriptions.pointerUp.unsubscribe();\n    };\n    /**\n     * @param {?} elm\n     * @param {?} name\n     * @param {?} add\n     * @return {?}\n     */\n    Resizable.prototype.setElementClass = function (elm, name, add) {\n        if (add) {\n            this.renderer.addClass(elm.nativeElement, name);\n        }\n        else {\n            this.renderer.removeClass(elm.nativeElement, name);\n        }\n    };\n    return Resizable;\n}());\nexport { Resizable };\nResizable.decorators = [\n    { type: Directive, args: [{\n                selector: '[mwlResizable]'\n            },] },\n];\n/**\n * @nocollapse\n */\nResizable.ctorParameters = function () { return [\n    { type: Renderer2, },\n    { type: ElementRef, },\n    { type: NgZone, },\n]; };\nResizable.propDecorators = {\n    'validateResize': [{ type: Input },],\n    'resizeEdges': [{ type: Input },],\n    'enableGhostResize': [{ type: Input },],\n    'resizeSnapGrid': [{ type: Input },],\n    'resizeCursors': [{ type: Input },],\n    'resizeCursorPrecision': [{ type: Input },],\n    'ghostElementPositioning': [{ type: Input },],\n    'resizeStart': [{ type: Output },],\n    'resizing': [{ type: Output },],\n    'resizeEnd': [{ type: Output },],\n    'resizeHandles': [{ type: ContentChildren, args: [ResizeHandle,] },],\n};\nfunction Resizable_tsickle_Closure_declarations() {\n    /** @type {?} */\n    Resizable.decorators;\n    /**\n     * @nocollapse\n     * @type {?}\n     */\n    Resizable.ctorParameters;\n    /** @type {?} */\n    Resizable.propDecorators;\n    /**\n     * A function that will be called before each resize event. Return `true` to allow the resize event to propagate or `false` to cancel it\n     * @type {?}\n     */\n    Resizable.prototype.validateResize;\n    /**\n     * The edges that an element can be resized from. Pass an object like `{top: true, bottom: false}`. By default no edges can be resized.\n     * @type {?}\n     */\n    Resizable.prototype.resizeEdges;\n    /**\n     * Set to `true` to enable a temporary resizing effect of the element in between the `resizeStart` and `resizeEnd` events.\n     * @type {?}\n     */\n    Resizable.prototype.enableGhostResize;\n    /**\n     * A snap grid that resize events will be locked to.\n     *\n     * e.g. to only allow the element to be resized every 10px set it to `{left: 10, right: 10}`\n     * @type {?}\n     */\n    Resizable.prototype.resizeSnapGrid;\n    /**\n     * The mouse cursors that will be set on the resize edges\n     * @type {?}\n     */\n    Resizable.prototype.resizeCursors;\n    /**\n     * Mouse over thickness to active cursor.\n     * @type {?}\n     */\n    Resizable.prototype.resizeCursorPrecision;\n    /**\n     * Define the positioning of the ghost element (can be fixed or absolute)\n     * @type {?}\n     */\n    Resizable.prototype.ghostElementPositioning;\n    /**\n     * Called when the mouse is pressed and a resize event is about to begin. `$event` is a `ResizeEvent` object.\n     * @type {?}\n     */\n    Resizable.prototype.resizeStart;\n    /**\n     * Called as the mouse is dragged after a resize event has begun. `$event` is a `ResizeEvent` object.\n     * @type {?}\n     */\n    Resizable.prototype.resizing;\n    /**\n     * Called after the mouse is released after a resize event. `$event` is a `ResizeEvent` object.\n     * @type {?}\n     */\n    Resizable.prototype.resizeEnd;\n    /**\n     * @hidden\n     * @type {?}\n     */\n    Resizable.prototype.mouseup;\n    /**\n     * @hidden\n     * @type {?}\n     */\n    Resizable.prototype.mousedown;\n    /**\n     * @hidden\n     * @type {?}\n     */\n    Resizable.prototype.mousemove;\n    /**\n     * @hidden\n     * @type {?}\n     */\n    Resizable.prototype.resizeHandles;\n    /** @type {?} */\n    Resizable.prototype.pointerEventListeners;\n    /** @type {?} */\n    Resizable.prototype.pointerEventListenerSubscriptions;\n    /** @type {?} */\n    Resizable.prototype.renderer;\n    /** @type {?} */\n    Resizable.prototype.elm;\n    /** @type {?} */\n    Resizable.prototype.zone;\n}\nvar PointerEventListeners = (function () {\n    /**\n     * @param {?} renderer\n     * @param {?} zone\n     */\n    function PointerEventListeners(renderer, zone) {\n        this.pointerDown = new Observable(function (observer) {\n            var unsubscribeMouseDown, unsubscribeTouchStart;\n            zone.runOutsideAngular(function () {\n                unsubscribeMouseDown = renderer.listen('document', 'mousedown', function (event) {\n                    observer.next({ clientX: event.clientX, clientY: event.clientY, event: event });\n                });\n                unsubscribeTouchStart = renderer.listen('document', 'touchstart', function (event) {\n                    observer.next({ clientX: event.touches[0].clientX, clientY: event.touches[0].clientY, event: event });\n                });\n            });\n            return function () {\n                unsubscribeMouseDown();\n                unsubscribeTouchStart();\n            };\n        }).share();\n        this.pointerMove = new Observable(function (observer) {\n            var unsubscribeMouseMove, unsubscribeTouchMove;\n            zone.runOutsideAngular(function () {\n                unsubscribeMouseMove = renderer.listen('document', 'mousemove', function (event) {\n                    observer.next({ clientX: event.clientX, clientY: event.clientY, event: event });\n                });\n                unsubscribeTouchMove = renderer.listen('document', 'touchmove', function (event) {\n                    observer.next({ clientX: event.targetTouches[0].clientX, clientY: event.targetTouches[0].clientY, event: event });\n                });\n            });\n            return function () {\n                unsubscribeMouseMove();\n                unsubscribeTouchMove();\n            };\n        }).share();\n        this.pointerUp = new Observable(function (observer) {\n            var unsubscribeMouseUp, unsubscribeTouchEnd, unsubscribeTouchCancel;\n            zone.runOutsideAngular(function () {\n                unsubscribeMouseUp = renderer.listen('document', 'mouseup', function (event) {\n                    observer.next({ clientX: event.clientX, clientY: event.clientY, event: event });\n                });\n                unsubscribeTouchEnd = renderer.listen('document', 'touchend', function (event) {\n                    observer.next({ clientX: event.changedTouches[0].clientX, clientY: event.changedTouches[0].clientY, event: event });\n                });\n                unsubscribeTouchCancel = renderer.listen('document', 'touchcancel', function (event) {\n                    observer.next({ clientX: event.changedTouches[0].clientX, clientY: event.changedTouches[0].clientY, event: event });\n                });\n            });\n            return function () {\n                unsubscribeMouseUp();\n                unsubscribeTouchEnd();\n                unsubscribeTouchCancel();\n            };\n        }).share();\n    }\n    /**\n     * @param {?} renderer\n     * @param {?} zone\n     * @return {?}\n     */\n    PointerEventListeners.getInstance = function (renderer, zone) {\n        if (!PointerEventListeners.instance) {\n            PointerEventListeners.instance = new PointerEventListeners(renderer, zone);\n        }\n        return PointerEventListeners.instance;\n    };\n    return PointerEventListeners;\n}());\nfunction PointerEventListeners_tsickle_Closure_declarations() {\n    /** @type {?} */\n    PointerEventListeners.instance;\n    /** @type {?} */\n    PointerEventListeners.prototype.pointerDown;\n    /** @type {?} */\n    PointerEventListeners.prototype.pointerMove;\n    /** @type {?} */\n    PointerEventListeners.prototype.pointerUp;\n}\n//# sourceMappingURL=resizable.directive.js.map","import { NgModule } from '@angular/core';\nimport { Resizable } from './resizable.directive';\nimport { ResizeHandle } from './resizeHandle.directive';\nvar ResizableModule = (function () {\n    function ResizableModule() {\n    }\n    return ResizableModule;\n}());\nexport { ResizableModule };\nResizableModule.decorators = [\n    { type: NgModule, args: [{\n                declarations: [Resizable, ResizeHandle],\n                exports: [Resizable, ResizeHandle]\n            },] },\n];\n/**\n * @nocollapse\n */\nResizableModule.ctorParameters = function () { return []; };\nfunction ResizableModule_tsickle_Closure_declarations() {\n    /** @type {?} */\n    ResizableModule.decorators;\n    /**\n     * @nocollapse\n     * @type {?}\n     */\n    ResizableModule.ctorParameters;\n}\n//# sourceMappingURL=resizable.module.js.map","export { ResizableModule } from './resizable.module';\nexport { Resizable } from './resizable.directive'; // tslint:disable-line\nexport { ResizeHandle } from './resizeHandle.directive'; // tslint:disable-line\n//# sourceMappingURL=index.js.map","/**\n * Generated bundle index. Do not edit.\n */\nexport { Resizable, ResizeHandle, ResizableModule } from './index';\n//# sourceMappingURL=angular-resizable-element.js.map"],"names":["Subject","interval","merge","Observable"],"mappings":"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"}